(window.wpJsonpTemplateSections=window.wpJsonpTemplateSections||[]).push([[35],{968:function(e,t,n){"use strict";n.r(t);n(18),n(28),n(29),n(37),n(43),n(11),n(44),n(56),n(19),n(46),n(196),n(133),n(127),n(128),n(51),n(20),n(8),n(141),n(52),n(30),n(72),n(26),n(12),n(27);var i=n(45),o=n(537),s=n(477),r=n(478),a=n(89),l=n(131),d=n(69),c=n(2),u=n(340),p=n(48),h=n(25),m=n(374),f=n(375),g=n(54),S=n(83),v=n(115);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=0,L=0,x="px",W=576,k=function(e){var t=e.spaceValue,n=e.spaceUnit;return window.innerWidth<W&&(t=L,n=x),{value:t,unit:n}},z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(b,e);var t,n,i,y=T(b);function b(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),E(P(t=y.call(this)),"loadImage",(function(e){e&&(e.onload=function(){e.dataset.loaded=!0},g.a.loadLazy(e,{load:!0,useAdvancedPositioning:!0}))})),E(P(t),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),n=Object.assign({},e);return n.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),n})),E(P(t),"updateRef",(function(){var e=t.props,n=e.unorderedListSelector,i=e.imageSelector,o=e.itemSelector,s=e.itemTitleSelector,r=e.itemDescriptionSelector,a=e.itemButtonSelector,l=e.contentSelector,d=e.arrowLeftWrapperSelector,c=e.arrowRightWrapperSelector,u=e.parentSectionSelector,p=e.listWrapperSelector,h=e.listTitleSelector,m=e.listButtonWrapperSelector,f=e.listButtonSelector,g=e.listTitleSpacerSelector,S=e.listButtonSpacerSelector;return{layoutContainer:t.node,unorderedList:t.node.querySelector(n),images:Array.from(t.node.querySelectorAll(i)),userItems:Array.from(t.node.querySelectorAll(o)),userItemsContent:Array.from(t.node.querySelectorAll(l)),itemTitles:Array.from(t.node.querySelectorAll(s)),itemDescriptions:Array.from(t.node.querySelectorAll(r)),itemButtons:Array.from(t.node.querySelectorAll(a)),arrowLeftWrapper:t.node.querySelector(d),arrowRightWrapper:t.node.querySelector(c),parentNode:t.node.closest(u),listWrapperElement:t.node.closest(p),listTitleElement:t.node.parentElement.querySelector(h),listButtonWrapper:t.node.parentElement.querySelector(m),listButtonElement:t.node.parentElement.querySelector(f),listTitleSpacerElement:t.node.parentElement.querySelector(g),listButtonSpacerElement:t.node.parentElement.querySelector(S)}})),E(P(t),"updateListSectionTitle",(function(e){var n=t.ref.listTitleElement;if(n){if(t.state.sectionTitle!==e.sectionTitle&&t.renderContentUpdate({elementToUpdate:{textContainer:n,visibilityTarget:n},latestText:e.sectionTitle}),t.state.spaceBelowSectionTitle!==e.spaceBelowSectionTitle){var i="".concat(e.spaceBelowSectionTitle.value).concat(e.spaceBelowSectionTitle.unit);n.style.paddingBottom=i}t.state.sectionTitleAlignment!==e.sectionTitleAlignment&&(n.dataset.sectionTitleAlignment=e.sectionTitleAlignment)}})),E(P(t),"updateListSectionButton",(function(e){var n=t.ref.listButtonElement;if(n){if(t.state.sectionButton.buttonText!==e.sectionButton.buttonText&&t.renderContentUpdate({elementToUpdate:{textContainer:n,visibilityTarget:t.ref.listButtonWrapper},latestText:e.sectionButton.buttonText}),t.state.sectionButton.buttonLink!==e.sectionButton.buttonLink&&(n.href=e.sectionButton.buttonLink),t.state.sectionButtonSize!==e.sectionButtonSize){var i="sqs-block-button-element--".concat(t.state.sectionButtonSize),o="sqs-block-button-element--".concat(e.sectionButtonSize);Object(h.a)(n,[i],o),t.ref.listButtonWrapper.dataset.buttonSize=e.sectionButtonSize}if(t.state.sectionButtonAlignment!==e.sectionButtonAlignment&&(t.ref.listButtonWrapper.dataset.sectionButtonAlignment=e.sectionButtonAlignment),t.state.spaceAboveSectionButton!==e.spaceAboveSectionButton){var s="".concat(e.spaceAboveSectionButton.value).concat(e.spaceAboveSectionButton.unit);t.ref.listButtonWrapper.style.marginTop=s}}})),E(P(t),"onSectionTweak",(function(e){var n,i=Object(m.a)({layout:e.userItemsListOptions.layout,userItems:(n=e.userItems,n.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"id")&&delete e.id})),n),styles:e.styles,options:e.userItemsListOptions.bannerSlideshowOptions,video:e.video,isSectionTitleEnabled:e.userItemsListOptions.isSectionTitleEnabled,sectionTitle:e.userItemsListOptions.sectionTitle,spaceBelowSectionTitle:e.userItemsListOptions.spaceBelowSectionTitle,sectionTitleAlignment:e.userItemsListOptions.sectionTitleAlignment,isSectionButtonEnabled:e.userItemsListOptions.isSectionButtonEnabled,sectionButton:e.userItemsListOptions.sectionButton,sectionButtonSize:e.userItemsListOptions.sectionButtonSize,sectionButtonAlignment:e.userItemsListOptions.sectionButtonAlignment,spaceAboveSectionButton:e.userItemsListOptions.spaceAboveSectionButton,backgroundImageFocalPoint:e.backgroundImageFocalPoint,backgroundImageId:e.backgroundImageId}),o=t.state.userItems.length!==i.userItems.length||t.state.layout!==i.layout;if(o)return!1;if(t.state.options.isBodyEnabled!==i.options.isBodyEnabled||t.state.options.isButtonEnabled!==i.options.isButtonEnabled||t.state.options.isMediaEnabled!==i.options.isMediaEnabled||t.state.options.isTitleEnabled!==i.options.isTitleEnabled||t.state.isSectionTitleEnabled!==i.isSectionTitleEnabled||t.state.isSectionButtonEnabled!==i.isSectionButtonEnabled)return!1;t.state.isSectionTitleEnabled&&(t.state.sectionTitle===i.sectionTitle&&t.state.spaceBelowSectionTitle===i.spaceBelowSectionTitle&&t.state.sectionTitleAlignment===i.sectionTitleAlignment||t.updateListSectionTitle(i)),t.state.isSectionButtonEnabled&&(t.state.sectionButton===i.sectionButton&&t.state.sectionButtonSize===i.sectionButtonSize&&t.state.sectionButtonAlignment===i.sectionButtonAlignment&&t.state.spaceAboveSectionButton===i.spaceAboveSectionButton||t.updateListSectionButton(i));var s=t.state.userItems.map((function(e,t){return Object(u.a)(i.userItems[t],e)}));if(o=t.shouldContentChangeUpdateDOM(s),t.setItemIndex(s),o)return!1;var r=Object(u.a)(i.options,t.state.options);if(o=t.shouldOptionsChangeUpdateDOM(r))return!1;var a=Object(u.a)(i.styles,t.state.styles);if(o=t.shouldStylesChangeUpdateDOM(a))return!1;var l=t.state.backgroundImageId!==(i.backgroundImageId||null),d=Object(u.a)(i.styles.imageFocalPoint||{},t.state.styles.imageFocalPoint||{}).length>0;if(o=l||d)return!1;var c=Object(u.a)(i.video||{},t.state.video||{});return!(o=t.shouldVideoChangeUpdateDOM(c,t.state.video,i.video))&&(t.handleContentUpdate(s,i.userItems),t.handleOptionsUpdate(r,i.options),t.handleStylesUpdate(a,i.styles),t.ref=t.updateRef(),t.setState(w({},i)),!0)})),E(P(t),"shouldContentChangeUpdateDOM",(function(e){for(var t=!1,n=0;n<e.length;n++){if(e[n].includes("imageId")){t=!0;break}t=!1}return t})),E(P(t),"shouldStylesChangeUpdateDOM",(function(e){return!!(e.includes("backgroundMode")||e.includes("backgroundWidth")||e.includes("imageOverlayOpacity")||e.includes("imageEffect")||e.includes("sectionAnimation")||e.includes("sectionHeight")||e.includes("customSectionHeight"))})),E(P(t),"shouldVideoChangeUpdateDOM",(function(e,t,n){var i=!e.includes("url"),o=null===t&&""===(null==n?void 0:n.url),s=null===(null==n?void 0:n.videoFallbackContentItemId)&&i,r=o||s;return(e.includes("url")||e.includes("filter")||e.includes("filterStrength")||e.includes("playbackSpeed")||e.includes("videoFallbackContentItemId")||e.includes("videoFallbackFocalPoint"))&&!r})),E(P(t),"shouldOptionsChangeUpdateDOM",(function(e){return!!(e.includes("layoutWidth")||e.includes("mediaAspectRatio")||e.includes("contentOrder")||e.includes("titleFontSize")||e.includes("navigationControls")||e.includes("navigationPlacement")||e.includes("isInfiniteEnabled"))})),E(P(t),"handleContentUpdate",(function(e,n){e.forEach((function(e,i){if(e.includes("title")){var o=t.ref.userItems[i].querySelector(t.props.itemTitleSelector);o&&t.renderContentUpdate({elementToUpdate:{textContainer:o,visibilityTarget:o},latestText:n[i].title})}if(e.includes("imageAltText")){var s=t.ref.userItems[i].querySelector(t.props.imageSelector);s&&(s.alt=n[i].imageAltText)}if(e.includes("description")){var r=t.ref.userItems[i].querySelector(t.props.itemDescriptionSelector);r&&t.renderContentUpdate({elementToUpdate:{textContainer:r,visibilityTarget:r},latestText:n[i].description})}if(e.includes("button.buttonText")){var a=t.ref.userItems[i].querySelector(t.props.itemButtonSelector);a&&t.renderContentUpdate({elementToUpdate:{textContainer:a,visibilityTarget:t.ref.userItems[i].querySelector(t.props.itemButtonContainerSelector)},latestText:n[i].button.buttonText})}if(e.includes("button.buttonLink")){var l=t.ref.userItems[i].querySelector(t.props.itemButtonSelector);l&&(l.href=n[i].button.buttonLink)}if(e.includes("mediaFocalPoint.x")||e.includes("mediaFocalPoint.y")){var d=n[i].mediaFocalPoint,c=d.x,u=d.y,p=t.ref.userItems[i].querySelector(t.props.imageSelector);g.a.load(p,{load:!0,forceImageUpdate:!0,focalPoint:{x:c,y:u}}),p.dataset.imageFocalPoint="".concat(c,",").concat(u)}}))})),E(P(t),"renderContentUpdate",(function(e){var n=e.elementToUpdate,i=e.latestText;i?(n.visibilityTarget.classList.remove(t.props.hideElementClass),n.textContainer.innerHTML=i):n.visibilityTarget.classList.add(t.props.hideElementClass)})),E(P(t),"handleOptionsUpdate",(function(e,n){var i=t.state.options,o=!1;if((e.includes("titleAlignment")||e.includes("bodyAlignment")||e.includes("buttonAlignment"))&&(t.node.dataset.titleAlignment=n.titleAlignment,t.node.dataset.bodyAlignment=n.bodyAlignment,t.node.dataset.buttonAlignment=n.buttonAlignment),(e.includes("customOptions.customTitleFontSize.value")||e.includes("customOptions.customTitleFontSize.unit"))&&Object(f.a)({type:"title",rootNode:t.node,targetElements:t.ref.itemTitles,fontSizeValue:n.customOptions.customTitleFontSize.value,fontSizeUnit:n.customOptions.customTitleFontSize.unit}),(e.includes("customOptions.customBodyFontSize.value")||e.includes("customOptions.customBodyFontSize.unit"))&&Object(f.a)({type:"body",rootNode:t.node,targetElements:t.ref.itemDescriptions,fontSizeValue:n.customOptions.customBodyFontSize.value,fontSizeUnit:n.customOptions.customBodyFontSize.unit}),(e.includes("customOptions.customButtonFontSize.value")||e.includes("customOptions.customButtonFontSize.unit"))&&Object(f.a)({type:"button",rootNode:t.node,targetElements:t.ref.itemButtons,fontSizeValue:n.customOptions.customButtonFontSize.value,fontSizeUnit:n.customOptions.customButtonFontSize.unit}),e.includes("isAutoplayEnabled")&&(t.node.dataset.isAutoplayEnabled=n.isAutoplayEnabled),(e.includes("slideContentWidth.value")||e.includes("slideContentWidth.unit"))&&t.ref.userItemsContent.forEach((function(e){var t="".concat(n.slideContentWidth.value).concat(n.slideContentWidth.unit);e.style.minWidth=t})),e.includes("bodyFontSize")&&t.ref.itemDescriptions.forEach((function(e){Object(h.a)(e,Object.values(c.h),c.h[n.bodyFontSize])})),e.includes("buttonFontSize")&&t.ref.itemButtons.forEach((function(e){Object(h.a)(e,Object.values(c.i),c.i[n.buttonFontSize])})),e.includes("isCardEnabled"))if(n.isCardEnabled){var s="".concat(i.cardPaddingTop.value).concat(i.cardPaddingTop.unit),r="".concat(i.cardPaddingRight.value).concat(i.cardPaddingRight.unit),a="".concat(i.cardPaddingBottom.value).concat(i.cardPaddingBottom.unit),l="".concat(i.cardPaddingLeft.value).concat(i.cardPaddingLeft.unit);t.ref.userItemsContent.forEach((function(e){e.style.paddingTop=s,e.style.paddingRight=r,e.style.paddingBottom=a,e.style.paddingLeft=l})),t.ref.userItems.forEach((function(e){e.dataset.isCardEnabled="true"}))}else t.ref.userItemsContent.forEach((function(e){e.style.paddingTop="",e.style.paddingRight="",e.style.paddingBottom="",e.style.paddingLeft=""})),t.ref.userItems.forEach((function(e){e.dataset.isCardEnabled="false"}));if(e.includes("cardPaddingTop.value")||e.includes("cardPaddingTop.unit")||e.includes("cardPaddingRight.value")||e.includes("cardPaddingRight.unit")||e.includes("cardPaddingBottom.value")||e.includes("cardPaddingBottom.unit")||e.includes("cardPaddingLeft.value")||e.includes("cardPaddingLeft.unit")){var d="".concat(n.cardPaddingTop.value).concat(n.cardPaddingTop.unit),u="".concat(n.cardPaddingRight.value).concat(n.cardPaddingRight.unit),p="".concat(n.cardPaddingBottom.value).concat(n.cardPaddingBottom.unit),m="".concat(n.cardPaddingLeft.value).concat(n.cardPaddingLeft.unit);t.ref.userItemsContent.forEach((function(e){e.style.paddingTop=d,e.style.paddingRight=u,e.style.paddingBottom=p,e.style.paddingLeft=m}))}if(e.includes("navigationOffset.value")||e.includes("navigationOffset.unit")){var g="".concat(n.navigationOffset.value).concat(n.navigationOffset.unit);t.ref.arrowLeftWrapper.style.left=g,t.ref.arrowRightWrapper.style.right=g}if(e.includes("navigationAlignment")&&(t.node.dataset.navigationAlignment=n.navigationAlignment),e.includes("isShowAdjacentSlides")&&(t.node.dataset.showAdjacentSlides=n.isShowAdjacentSlides,o=!0,n.isShowAdjacentSlides?t.applyPeek():t.ref.unorderedList.style.paddingRight=""),e.includes("verticalPaddingTop.value")||e.includes("verticalPaddingTop.unit")||e.includes("verticalPaddingBottom.value")||e.includes("verticalPaddingBottom.unit")){var S,v="".concat(n.verticalPaddingTop.value).concat(n.verticalPaddingTop.unit),y="".concat(n.verticalPaddingBottom.value).concat(n.verticalPaddingBottom.unit);t.state.isSectionTitleEnabled&&(S="calc(".concat("1vmax"," - ").concat(v,")"),t.ref.listTitleSpacerElement.style.minHeight=S),t.state.isSectionButtonEnabled&&(S="calc(".concat("1vmax"," - ").concat(y,")"),t.ref.listButtonSpacerElement.style.minHeight=S),t.ref.listWrapperElement.style.paddingTop=v,t.ref.listWrapperElement.style.paddingBottom=y}if(e.includes("slideContentPaddingTop.value")||e.includes("slideContentPaddingTop.unit")||e.includes("slideContentPaddingRight.value")||e.includes("slideContentPaddingRight.unit")||e.includes("slideContentPaddingBottom.value")||e.includes("slideContentPaddingBottom.unit")||e.includes("slideContentPaddingLeft.value")||e.includes("slideContentPaddingLeft.unit")){var b="".concat(n.slideContentPaddingTop.value).concat(n.slideContentPaddingTop.unit),w="".concat(n.slideContentPaddingRight.value).concat(n.slideContentPaddingRight.unit),B="".concat(n.slideContentPaddingBottom.value).concat(n.slideContentPaddingBottom.unit),C="".concat(n.slideContentPaddingLeft.value).concat(n.slideContentPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=b,e.style.paddingRight=w,e.style.paddingBottom=B,e.style.paddingLeft=C}))}if(e.includes("minSlideHeight.value")||e.includes("minSlideHeight.unit")){var T="".concat(n.minSlideHeight.value).concat(n.minSlideHeight.unit);t.ref.unorderedList.style.minHeight=T}if(e.includes("spaceBelowTitle.value")||e.includes("spaceBelowTitle.unit")){var A="".concat(n.spaceBelowTitle.value).concat(n.spaceBelowTitle.unit);t.ref.userItemsContent.forEach((function(e){var n=e.querySelector(t.props.itemDescriptionSelector);n&&(n.style.marginTop=A)}))}if(e.includes("spaceBelowBody.value")||e.includes("spaceBelowBody.unit")){var P="".concat(n.spaceBelowBody.value).concat(n.spaceBelowBody.unit);t.ref.userItemsContent.forEach((function(e){var n=e.querySelector(t.props.itemButtonContainerSelector);n&&(n.style.marginTop=P)}))}(e.includes("spaceBetweenSlides.value")||e.includes("spaceBetweenSlides.unit"))&&(t.node.dataset.spaceBetweenSlidesValue=n.spaceBetweenSlides.value,t.node.dataset.spaceBetweenSlidesUnit=n.spaceBetweenSlides.unit,t.list.props.spacing=k({spaceValue:n.spaceBetweenSlides.value,spaceUnit:n.spaceBetweenSlides.unit}),"true"===t.node.dataset.showAdjacentSlides&&t.applyPeek(),o=!0),e.includes("cardVerticalPosition")&&(t.node.dataset.cardVerticalPosition=n.cardVerticalPosition),e.includes("cardHorizontalPosition")&&(t.node.dataset.cardHorizontalPosition=n.cardHorizontalPosition),o&&t.onResize()})),E(P(t),"applyPeek",(function(){var e,n,i,o,s=(e={spaceValue:t.state.options.spaceBetweenSlides.value,spaceUnit:t.state.options.spaceBetweenSlides.unit},n=e.spaceValue,i=e.spaceUnit,o=k({spaceValue:n,spaceUnit:i}),"".concat(o.value).concat(o.unit)),r="full-bleed"===t.state.options.layoutWidth,a="calc(".concat(r?"10vw":"40px"," + ").concat(s,")");t.ref.unorderedList.style.paddingRight=a})),E(P(t),"handleStylesUpdate",(function(e,n){var i=!1;if(e.includes("sectionTheme")&&Object(h.a)(t.ref.parentNode,c.j,n.sectionTheme),e.includes("horizontalAlignment")){["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.horizontalAlignment)}if(e.includes("verticalAlignment")){["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.verticalAlignment)}if(e.includes("contentWidth")){t.node.dataset.widthConstraint=n.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),"content-width--custom"!==n.contentWidth?(t.ref.parentNode.classList.add(n.contentWidth),t.ref.parentNode.querySelector(".content").style.width=""):t.ref.parentNode.querySelector(".content").style.width="".concat(t.state.styles.customContentWidth,"%"),i=!0}e.includes("customContentWidth")&&"content-width--custom"===t.state.styles.contentWidth&&(t.ref.parentNode.querySelector(".content").style.width="".concat(n.customContentWidth,"%")),i&&t.onResize()})),E(P(t),"handleArrowVisibility",(function(){if(!t.isInfiniteEnabled&&"arrows"===t.navigationControls){if(t.slideshowProps.totalSlideCount<=t.getSlideColumnCount())return t.hideArrow(t.previousBtn),void t.hideArrow(t.nextBtn);t.slideshowProps.targetSlideIndex<=0?t.hideArrow(t.previousBtn):t.showArrow(t.previousBtn),t.slideshowProps.targetSlideIndex>=t.behaviors.getLastScrollableSlideIndex()?t.hideArrow(t.nextBtn):t.showArrow(t.nextBtn)}})),E(P(t),"onResize",(function(){var e=t.getSlideColumnCount();t.removeClones(),t.slideshowNodes=t.buildItems(t.slides),t.list.props.items=t.slideshowNodes,t.list.props.slideshowGutterWidth=t.getSlideshowGutterWidth(),t.list.props.slideColumnCount=e,t.behaviors.props.slideColumnCount=e,t.list.props.spacing=k({spaceValue:t.node.dataset.spaceBetweenSlidesValue,spaceUnit:t.node.dataset.spaceBetweenSlidesUnit}),t.loadImages(t.ref.images),t.list.setSize(t.getSlideshowDimensions()),t.updatePositions(),t.slideshowProps.targetSlideIndex=t.slideshowProps.progressIndex,t.handleArrowVisibility()})),E(P(t),"removeClones",(function(){t.slidesContainer.innerHTML="";var e=new DocumentFragment;t.slides.forEach((function(t){e.appendChild(t)})),t.slidesContainer.appendChild(e)})),E(P(t),"onClickNavPrevious",(function(){t.behaviors.previousIndex()})),E(P(t),"onClickNavNext",(function(){t.behaviors.nextIndex()})),E(P(t),"onProgress",(function(e){t.slideshowProps.progressIndex=(.5+e<<0)%t.slideshowProps.totalSlideCount,t.list.setProgress(e),t.updatePositions()})),E(P(t),"onStartProgress",(function(e){if(t.slideshowProps.targetSlideIndex=e,t.handleArrowVisibility(),!t.dragBehaviors.isDragging){var n=t.slideshowNodes.length,i=Math.round((e+n)%n);t.updateAriaContainer({currentSlideIndex:i})}})),E(P(t),"onCloneItem",(function(e){var n=t.slideshowNodes[e],i=n.node.parentNode,o=n.node.cloneNode(!0);o.querySelectorAll("h1, h2, h3, h4, h5, p, [data-animation-role]").forEach((function(e){Object(S.b)(e),e.classList.remove(v.a)}));var s=o.querySelector(t.nodeSelectors.slideshowItemImage);i.appendChild(o),t.slideshowNodes.push(w(w({},n),{},{node:o,imageNode:s,isImageLoadAdded:!1,inViewport:null}))})),E(P(t),"destroy",(function(){t.behaviors&&(t.behaviors.destroy(),delete t.behaviors),t.dragBehaviors&&(t.dragBehaviors.destroy(),delete t.dragBehaviors),t.unbindListeners()})),t.node=e;var n=t.props,i=n.itemSelector,o=n.contentSelector,s=n.unorderedListSelector,r=n.imageSelector,a=n.itemTitleSelector,l=n.itemDescriptionSelector,d=n.itemButtonSelector,p=n.arrowLeftWrapperSelector,B=n.arrowRightWrapperSelector,C=n.parentSectionSelector,T=n.listWrapperSelector,A=n.listTitleSelector,I=n.listButtonWrapperSelector,L=n.listButtonSelector,x=n.listTitleSpacerSelector,W=n.listButtonSpacerSelector;return t.ref={layoutContainer:t.node,unorderedList:t.node.querySelector(s),images:Array.from(t.node.querySelectorAll(r)),userItems:Array.from(t.node.querySelectorAll(i)),userItemsContent:Array.from(t.node.querySelectorAll(o)),itemTitles:Array.from(t.node.querySelectorAll(a)),itemDescriptions:Array.from(t.node.querySelectorAll(l)),itemButtons:Array.from(t.node.querySelectorAll(d)),arrowLeftWrapper:t.node.querySelector(p),arrowRightWrapper:t.node.querySelector(B),parentNode:t.node.closest(C),listWrapperElement:t.node.closest(T),listTitleElement:t.node.parentElement.querySelector(A),listButtonWrapper:t.node.parentElement.querySelector(I),listButtonElement:t.node.parentElement.querySelector(L),listTitleSpacerElement:t.node.parentElement.querySelector(x),listButtonSpacerElement:t.node.parentElement.querySelector(W)},t.shouldShowAdjacentSlides="true"===e.getAttribute("data-show-adjacent-slides"),t.isInfiniteEnabled="true"===e.getAttribute("data-is-infinite-enabled"),t.spaceBetweenSlidesValue=Number(e.getAttribute("data-space-between-slides-value")),t.spaceBetweenSlidesUnit=e.getAttribute("data-space-between-slides-unit"),t.maxColumns=1,t.navigationControls=e.getAttribute("data-navigation-controls"),t.nodeSelectors={slideshowWidthConstrainer:".slideshow-gutter",slidesContainer:".slides",slide:".slide",slideshowItemImage:".list-slideshow-image",previousBtn:".user-items-list-banner-slideshow__arrow-button--left",nextBtn:".user-items-list-banner-slideshow__arrow-button--right",previousBtnMobile:".mobile-arrow-button--left",nextBtnMobile:".mobile-arrow-button--right"},t.classNames={isSlideshowInitialized:"slides--initialized",isArrowHidden:"arrow-button--hidden"},t.sectionId=t.node.dataset.sectionId,t.state=t.getStateFromDOM(),t.initializeSlideshowDom(),t.initializeSlideshowBehaviors(),t.initializeSlideshowProperties(),t.initializeDragBehaviors(),t.initializeSlideshow(),t.behaviors.setIndex(O,{isInstant:!0}),t}return t=b,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"addAriaContainer",value:function(e){var t=e.targetElement,n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.style="position: absolute; pointer-events: none; opacity: 0;",t.appendChild(n),this.ariaContainer=n}},{key:"updateAriaContainer",value:function(e){var t=e.currentSlideIndex,n=this.slideshowNodes.length;this.ariaContainer.innerHTML="Item ".concat(t+1," of ").concat(n)}},{key:"initializeSlideshowDom",value:function(){this.slideshowWidthConstrainer=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer),this.slidesContainer=this.node.querySelector(this.nodeSelectors.slidesContainer),this.previousBtn=this.node.querySelector(this.nodeSelectors.previousBtn),this.nextBtn=this.node.querySelector(this.nodeSelectors.nextBtn),this.previousBtnMobile=this.node.querySelector(this.nodeSelectors.previousBtnMobile),this.nextBtnMobile=this.node.querySelector(this.nodeSelectors.nextBtnMobile),this.slides=Array.from(this.node.querySelectorAll(this.nodeSelectors.slide)),this.slideshowNodes=this.buildItems(this.slides),this.addAriaContainer({targetElement:this.slideshowWidthConstrainer})}},{key:"initializeSlideshowBehaviors",value:function(){this.behaviors=new o.a({nodes:{focus:this.slideshowWidthConstrainer},numSlides:this.slideshowNodes.length,slideColumnCount:this.getSlideColumnCount(),isAutoplay:!1,autoplayInterval:3e3,isInfinite:this.isInfiniteEnabled,transitionDuration:600,onProgress:this.onProgress,onStartProgress:this.onStartProgress,shouldStopNavAtEnds:!0}),this.list=new r.a(w(w({items:this.slideshowNodes},this.getSlideshowDimensions()),{},{spacing:k({spaceValue:this.spaceBetweenSlidesValue,spaceUnit:this.spaceBetweenSlidesUnit}),isInfinite:this.isInfiniteEnabled,onCloneItem:this.onCloneItem,slideshowGutterWidth:this.getSlideshowGutterWidth()}))}},{key:"initializeSlideshowProperties",value:function(){this.slideshowProps={slideDimensions:this.list.props.items[0],totalSlideCount:this.slideshowNodes.length,progress:0,progressIndex:0,targetSlideIndex:0}}},{key:"initializeDragBehaviors",value:function(){var e=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer);this.dragBehaviors=new s.a(e,{slideshowProps:this.slideshowProps,behaviors:this.behaviors,callback:this.handleArrowVisibility})}},{key:"initializeSlideshow",value:function(){this.updatePositions(),this.slidesContainer.classList.add(this.classNames.isSlideshowInitialized),this.bindListeners(),this.loadImages(this.ref.images),this.handleArrowVisibility(),this.updateAriaContainer({currentSlideIndex:0})}},{key:"hideArrow",value:function(e){e.classList.add(this.classNames.isArrowHidden),e.setAttribute("tabindex","-1")}},{key:"showArrow",value:function(e){e.classList.remove(this.classNames.isArrowHidden),e.setAttribute("tabindex","0")}},{key:"getSlideColumnCount",value:function(){var e=this,t=window.innerWidth,n=1;return Object.values({"breakpoint-up-sm":{minScreenWidth:576,columnsWeHaveRoomFor:2},"breakpoint-up-lg":{minScreenWidth:992,columnsWeHaveRoomFor:3},"breakpoint-up-xxl":{minScreenWidth:1200,columnsWeHaveRoomFor:4}}).forEach((function(i){t>=i.minScreenWidth&&(n=Math.min(i.columnsWeHaveRoomFor,e.maxColumns))})),n}},{key:"getSlideshowGutterWidth",value:function(){var e=this.slidesContainer.getBoundingClientRect();return this.slidesContainer.offsetWidth/e.width*(e.x-this.slideshowWidthConstrainer.getBoundingClientRect().x)}},{key:"bindListeners",value:function(){p.a.watch(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.addEventListener("click",this.onClickNavPrevious),this.nextBtn.addEventListener("click",this.onClickNavNext)),this.previousBtnMobile.addEventListener("click",this.onClickNavPrevious),this.nextBtnMobile.addEventListener("click",this.onClickNavNext),this.onResize=Object(l.a)(this.onResize,c.e),a.a.on(this.onResize)}},{key:"unbindListeners",value:function(){p.a.disconnect(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.removeEventListener("click",this.onClickNavPrevious),this.nextBtn.removeEventListener("click",this.onClickNavNext)),this.previousBtnMobile.removeEventListener("click",this.onClickNavPrevious),this.nextBtnMobile.removeEventListener("click",this.onClickNavNext),a.a.off(this.onResize)}},{key:"getSlideshowDimensions",value:function(){var e=this.slideshowWidthConstrainer.offsetWidth,t=this.slideshowWidthConstrainer.offsetHeight;return{regionWidth:e,regionHeight:t,maxWidth:e,maxHeight:t}}},{key:"setItemIndex",value:function(e){for(var t=0;t<e.length;t++)e[t].length&&O!==t&&(O=t,this.behaviors.setIndex(O))}},{key:"buildItems",value:function(e){var t=this;return e.map((function(e,n){return{width:e.offsetWidth,height:e.offsetHeight,index:n,node:e,imageNode:e.querySelector(t.nodeSelectors.slideshowItemImage),isImageLoadAdded:!1,inViewport:null}}))}},{key:"updatePositions",value:function(){var e;this.revertFocusContainment&&this.revertFocusContainment();for(var t=0,n=this.slideshowNodes.length;t<n;t+=1){var i=this.slideshowNodes[t],o=this.list.items[t],s=!!(.5+Math.min(1,Math.abs(o.proximity))<<0),r=i.inViewport!==o.inViewport;s?i.node.setAttribute("aria-hidden",!0):(i.node.removeAttribute("aria-hidden"),e=i.node),(i.inViewport||r)&&(i.node.style.transform="translate3d("+o.x+"px, 0, 0)",i.inViewport=o.inViewport)}this.revertFocusContainment=Object(d.containFocus)({container:e,root:this.ref.unorderedList,setFocusOnContain:!1,restoreFocusOnRevert:!1})}}])&&B(t.prototype,n),i&&B(t,i),b}(i.a);E(z,"defaultProps",{unorderedListSelector:".slides",itemSelector:".slide",imageSelector:"img",contentSelector:".slide-content",mediaSelector:".slide-media-container",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonSelector:".list-item-content__button",itemButtonContainerSelector:".list-item-content__button-container",arrowLeftWrapperSelector:".arrow-container--left",arrowRightWrapperSelector:".arrow-container--right",parentSectionSelector:".user-items-list-section",listWrapperSelector:".user-items-list",hideElementClass:"list-item-content--hidden",listTitleSelector:".list-section-title",listButtonWrapperSelector:".list-section-button-container",listButtonSelector:".list-section-button",listTitleSpacerSelector:".section-title-vertical-padding-spacer",listButtonSpacerSelector:".section-button-vertical-padding-spacer"}),t.default=function(e){return new z(e)}}}]);